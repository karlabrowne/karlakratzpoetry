import{y as e,S as t,i as l,s,e as r,t as n,c,a as o,b as a,d as i,f as u,g as h,h as f,C as m,j as p,l as g,p as d,D as v,q as x,E as y,r as E,F as $,G as b,m as A,n as w}from"./client.814cb2a9.js";function D(e,t,l){const s=e.slice();return s[8]=t[l],s}function I(e,t,l){const s=e.slice();return s[11]=t[l],s}function P(e){let t,l,s,g,d=e[11].title+"";function v(){return e[6](e[11])}return{c(){t=r("button"),l=n(d),this.h()},l(e){t=c(e,"BUTTON",{class:!0});var s=o(t);l=a(s,d),s.forEach(i),this.h()},h(){u(t,"class","filter-button svelte-milxre")},m(e,r){h(e,t,r),f(t,l),s||(g=m(t,"click",$(v)),s=!0)},p(t,s){e=t,2&s&&d!==(d=e[11].title+"")&&p(l,d)},d(e){e&&i(t),s=!1,g()}}}function T(e){let t,l=e[2],s=[];for(let t=0;t<l.length;t+=1)s[t]=N(D(e,l,t));return{c(){t=r("ul");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=c(e,"UL",{class:!0});var l=o(t);for(let e=0;e<s.length;e+=1)s[e].l(l);l.forEach(i),this.h()},h(){u(t,"class","svelte-milxre")},m(e,l){h(e,t,l);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,r){if(4&r){let n;for(l=e[2],n=0;n<l.length;n+=1){const c=D(e,l,n);s[n]?s[n].p(c,r):(s[n]=N(c),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}},d(e){e&&i(t),d(s,e)}}}function _(e){let t,l,s,m,g=e[8].name+"";return{c(){t=r("li"),l=r("a"),s=n(g),this.h()},l(e){t=c(e,"LI",{});var r=o(t);l=c(r,"A",{rel:!0,href:!0});var n=o(l);s=a(n,g),n.forEach(i),r.forEach(i),this.h()},h(){u(l,"rel","prefetch"),u(l,"href",m="poems/"+e[8].slug.current)},m(e,r){h(e,t,r),f(t,l),f(l,s)},p(e,t){4&t&&g!==(g=e[8].name+"")&&p(s,g),4&t&&m!==(m="poems/"+e[8].slug.current)&&u(l,"href",m)},d(e){e&&i(t)}}}function N(e){let t,l=e[8].slug&&_(e);return{c(){l&&l.c(),t=g()},l(e){l&&l.l(e),t=g()},m(e,s){l&&l.m(e,s),h(e,t,s)},p(e,s){e[8].slug?l?l.p(e,s):(l=_(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&i(t)}}}function U(e){let t,l,s,p,g,D,_,N,U,V,j,k,q,B,L,O=e[1],C=[];for(let t=0;t<O.length;t+=1)C[t]=P(I(e,O,t));let F=e[0]&&T(e);const G=e[5].default,H=v(G,e,e[4],null);return{c(){t=x(),l=r("div"),s=r("div"),p=r("h2"),g=n("Poems by category"),D=x(),_=r("div");for(let e=0;e<C.length;e+=1)C[e].c();N=x(),U=r("button"),V=n("All"),j=x(),F&&F.c(),k=x(),H&&H.c(),this.h()},l(e){y('[data-svelte="svelte-1qupx5s"]',document.head).forEach(i),t=E(e),l=c(e,"DIV",{class:!0});var r=o(l);s=c(r,"DIV",{class:!0});var n=o(s);p=c(n,"H2",{class:!0});var u=o(p);g=a(u,"Poems by category"),u.forEach(i),D=E(n),_=c(n,"DIV",{class:!0});var h=o(_);for(let e=0;e<C.length;e+=1)C[e].l(h);N=E(h),U=c(h,"BUTTON",{class:!0});var f=o(U);V=a(f,"All"),f.forEach(i),h.forEach(i),j=E(n),F&&F.l(n),n.forEach(i),k=E(r),H&&H.l(r),r.forEach(i),this.h()},h(){document.title="Poems",u(p,"class","svelte-milxre"),u(U,"class","filter-button svelte-milxre"),u(_,"class","filter-cont svelte-milxre"),u(s,"class","side-bar svelte-milxre"),u(l,"class","page-wrapper svelte-milxre")},m(r,n){h(r,t,n),h(r,l,n),f(l,s),f(s,p),f(p,g),f(s,D),f(s,_);for(let e=0;e<C.length;e+=1)C[e].m(_,null);f(_,N),f(_,U),f(U,V),f(s,j),F&&F.m(s,null),f(l,k),H&&H.m(l,null),q=!0,B||(L=m(U,"click",$(e[7])),B=!0)},p(e,[t]){if(11&t){let l;for(O=e[1],l=0;l<O.length;l+=1){const s=I(e,O,l);C[l]?C[l].p(s,t):(C[l]=P(s),C[l].c(),C[l].m(_,N))}for(;l<C.length;l+=1)C[l].d(1);C.length=O.length}e[0]?F?F.p(e,t):(F=T(e),F.c(),F.m(s,null)):F&&(F.d(1),F=null),H&&H.p&&16&t&&b(H,G,e,e[4],t,null,null)},i(e){q||(A(H,e),q=!0)},o(e){w(H,e),q=!1},d(e){e&&i(t),e&&i(l),d(C,e),F&&F.d(),H&&H.d(e),B=!1,L()}}}var V=function(e,t,l,s){return new(l||(l=Promise))((function(r,n){function c(e){try{a(s.next(e))}catch(e){n(e)}}function o(e){try{a(s.throw(e))}catch(e){n(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(c,o)}a((s=s.apply(e,t||[])).next())}))};function j(){return V(this,void 0,void 0,(function*(){return{poems:yield e.fetch("*[_type == 'poem']{_id, slug, name, categories[]->{title}}"),categoriesArr:yield e.fetch("*[_type == 'category']{_id, title}")}}))}function k(e,t,l){let{$$slots:s={},$$scope:r}=t;const n=(e,t)=>{l(2,a=e.filter((({categories:e})=>{for(const{title:l}of e)return l==t})))};let{poems:c=[]}=t,{categoriesArr:o=[]}=t,a=c;return e.$$set=e=>{"poems"in e&&l(0,c=e.poems),"categoriesArr"in e&&l(1,o=e.categoriesArr),"$$scope"in e&&l(4,r=e.$$scope)},[c,o,a,n,r,s,e=>n(c,e.title),()=>l(2,a=c)]}export default class extends t{constructor(e){super(),l(this,e,k,U,s,{poems:0,categoriesArr:1})}}export{j as preload};
