import{D as n,E as t,_ as e,a as r,b as o,c as a,i as c,d as u,S as f,s as i,p as s,l,q as h,e as v,t as d,f as m,g as p,h as g,j as y,k as x,m as P,n as w,o as E,r as R,u as _,v as b,w as k,K as D,x as B,y as j,A as q,B as M,C as S}from"./client.925cdad3.js";function $(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,a=r(n);if(t){var c=r(this).constructor;e=Reflect.construct(a,arguments,c)}else e=a.apply(this,arguments);return o(this,e)}}function A(n,t,e){var r=n.slice();return r[1]=t[e].children,r}function C(n,t,e){var r=n.slice();return r[4]=t[e].text,r}function H(n){var t,e,r,o,a=n[4]+"";return{c:function(){t=v("p"),e=d(a),this.h()},l:function(n){t=m(n,"P",{class:!0});var r=p(t);e=g(r,a),r.forEach(y),this.h()},h:function(){x(t,"class","svelte-9fg21f")},m:function(n,r){l(n,t,r),P(t,e),o=!0},p:function(n,t){(!o||1&t)&&a!==(a=n[4]+"")&&w(e,a)},i:function(n){o||(q((function(){r||(r=E(t,M,{},!0)),r.run(1)})),o=!0)},o:function(n){r||(r=E(t,M,{},!1)),r.run(0),o=!1},d:function(n){n&&y(t),n&&r&&r.end()}}}function I(n){for(var t,e,r=n[1],o=[],a=0;a<r.length;a+=1)o[a]=H(C(n,r,a));var c=function(n){return R(o[n],1,1,(function(){o[n]=null}))};return{c:function(){for(var n=0;n<o.length;n+=1)o[n].c();t=s()},l:function(n){for(var e=0;e<o.length;e+=1)o[e].l(n);t=s()},m:function(n,r){for(var a=0;a<o.length;a+=1)o[a].m(n,r);l(n,t,r),e=!0},p:function(n,e){if(1&e){var a;for(r=n[1],a=0;a<r.length;a+=1){var u=C(n,r,a);o[a]?(o[a].p(u,e),h(o[a],1)):(o[a]=H(u),o[a].c(),h(o[a],1),o[a].m(t.parentNode,t))}for(S(),a=r.length;a<o.length;a+=1)c(a);_()}},i:function(n){if(!e){for(var t=0;t<r.length;t+=1)h(o[t]);e=!0}},o:function(n){o=o.filter(Boolean);for(var t=0;t<o.length;t+=1)R(o[t]);e=!1},d:function(n){b(o,n),n&&y(t)}}}function K(n){for(var t,e,r,o,a,c,u,f=n[0].name+"",i=n[0].content,s=[],$=0;$<i.length;$+=1)s[$]=I(A(n,i,$));var C=function(n){return R(s[n],1,1,(function(){s[n]=null}))};return{c:function(){t=k(),e=v("div"),r=v("h1"),o=d(f),c=k();for(var n=0;n<s.length;n+=1)s[n].c();this.h()},l:function(n){D('[data-svelte="svelte-1qupx5s"]',document.head).forEach(y),t=B(n),e=m(n,"DIV",{id:!0,class:!0});var a=p(e);r=m(a,"H1",{class:!0});var u=p(r);o=g(u,f),u.forEach(y),c=B(a);for(var i=0;i<s.length;i+=1)s[i].l(a);a.forEach(y),this.h()},h:function(){document.title="Poems",x(r,"class","poem-title"),x(e,"id","content"),x(e,"class","svelte-9fg21f")},m:function(n,a){l(n,t,a),l(n,e,a),P(e,r),P(r,o),P(e,c);for(var f=0;f<s.length;f+=1)s[f].m(e,null);u=!0},p:function(n,t){var r=j(t,1)[0];if((!u||1&r)&&f!==(f=n[0].name+"")&&w(o,f),1&r){var a;for(i=n[0].content,a=0;a<i.length;a+=1){var c=A(n,i,a);s[a]?(s[a].p(c,r),h(s[a],1)):(s[a]=I(c),s[a].c(),h(s[a],1),s[a].m(e,null))}for(S(),a=i.length;a<s.length;a+=1)C(a);_()}},i:function(n){if(!u){q((function(){a||(a=E(r,M,{},!0)),a.run(1)}));for(var t=0;t<i.length;t+=1)h(s[t]);u=!0}},o:function(n){a||(a=E(r,M,{},!1)),a.run(0),s=s.filter(Boolean);for(var t=0;t<s.length;t+=1)R(s[t]);u=!1},d:function(n){n&&y(t),n&&y(e),n&&a&&a.end(),b(s,n)}}}var N=function(n,t,e,r){return new(e||(e=Promise))((function(o,a){function c(n){try{f(r.next(n))}catch(n){a(n)}}function u(n){try{f(r.throw(n))}catch(n){a(n)}}function f(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,u)}f((r=r.apply(n,t||[])).next())}))};function V(){return N(this,void 0,void 0,n.mark((function e(){var r,o;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"*[_type == 'poem' && featured]{_id, slug, name, content, background}",n.next=3,t.fetch("*[_type == 'poem' && featured]{_id, slug, name, content, background}");case 3:return r=n.sent,o=r[Math.floor(Math.random()*r.length)],n.abrupt("return",{featuredPoem:o});case 6:case"end":return n.stop()}}),e)})))}function z(n,t,e){var r=t.featuredPoem;return n.$$set=function(n){"featuredPoem"in n&&e(0,r=n.featuredPoem)},[r]}var F=function(n){e(r,f);var t=$(r);function r(n){var e;return a(this,r),e=t.call(this),c(u(e),n,z,K,i,{featuredPoem:0}),e}return r}();export default F;export{V as preload};
