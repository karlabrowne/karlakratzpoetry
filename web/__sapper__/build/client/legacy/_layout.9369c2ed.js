import{D as t,E as n,_ as r,a as e,b as o,c,i as a,d as i,S as u,s as l,e as s,t as f,f as h,g as v,h as m,j as p,k as d,l as g,m as y,I as b,n as x,p as A,v as w,J as E,w as $,K as I,x as S,L as _,y as D,M as j,q as P,r as R}from"./client.925cdad3.js";function T(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=e(t);if(n){var a=e(this).constructor;r=Reflect.construct(c,arguments,a)}else r=c.apply(this,arguments);return o(this,r)}}function k(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(!t)return;if("string"==typeof t)return O(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,n)}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){i=!0,c=t},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw c}}}}function O(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function U(t,n,r){var e=t.slice();return e[8]=n[r],e}function L(t,n,r){var e=t.slice();return e[11]=n[r],e}function N(t){var n,r,e,o,c=t[11].title+"";function a(){return t[6](t[11])}return{c:function(){n=s("button"),r=f(c),this.h()},l:function(t){n=h(t,"BUTTON",{class:!0});var e=v(n);r=m(e,c),e.forEach(p),this.h()},h:function(){d(n,"class","filter-button svelte-milxre")},m:function(t,c){g(t,n,c),y(n,r),e||(o=b(n,"click",_(a)),e=!0)},p:function(n,e){t=n,2&e&&c!==(c=t[11].title+"")&&x(r,c)},d:function(t){t&&p(n),e=!1,o()}}}function V(t){for(var n,r=t[2],e=[],o=0;o<r.length;o+=1)e[o]=B(U(t,r,o));return{c:function(){n=s("ul");for(var t=0;t<e.length;t+=1)e[t].c();this.h()},l:function(t){n=h(t,"UL",{class:!0});for(var r=v(n),o=0;o<e.length;o+=1)e[o].l(r);r.forEach(p),this.h()},h:function(){d(n,"class","svelte-milxre")},m:function(t,r){g(t,n,r);for(var o=0;o<e.length;o+=1)e[o].m(n,null)},p:function(t,o){if(4&o){var c;for(r=t[2],c=0;c<r.length;c+=1){var a=U(t,r,c);e[c]?e[c].p(a,o):(e[c]=B(a),e[c].c(),e[c].m(n,null))}for(;c<e.length;c+=1)e[c].d(1);e.length=r.length}},d:function(t){t&&p(n),w(e,t)}}}function q(t){var n,r,e,o,c=t[8].name+"";return{c:function(){n=s("li"),r=s("a"),e=f(c),this.h()},l:function(t){n=h(t,"LI",{});var o=v(n);r=h(o,"A",{rel:!0,href:!0});var a=v(r);e=m(a,c),a.forEach(p),o.forEach(p),this.h()},h:function(){d(r,"rel","prefetch"),d(r,"href",o="poems/"+t[8].slug.current)},m:function(t,o){g(t,n,o),y(n,r),y(r,e)},p:function(t,n){4&n&&c!==(c=t[8].name+"")&&x(e,c),4&n&&o!==(o="poems/"+t[8].slug.current)&&d(r,"href",o)},d:function(t){t&&p(n)}}}function B(t){var n,r=t[8].slug&&q(t);return{c:function(){r&&r.c(),n=A()},l:function(t){r&&r.l(t),n=A()},m:function(t,e){r&&r.m(t,e),g(t,n,e)},p:function(t,e){t[8].slug?r?r.p(t,e):((r=q(t)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d:function(t){r&&r.d(t),t&&p(n)}}}function M(t){for(var n,r,e,o,c,a,i,u,l,x,A,T,k,O,U,q=t[1],B=[],M=0;M<q.length;M+=1)B[M]=N(L(t,q,M));var C=t[0]&&V(t),H=t[5].default,J=E(H,t,t[4],null);return{c:function(){n=$(),r=s("div"),e=s("div"),o=s("h2"),c=f("Poems by category"),a=$(),i=s("div");for(var t=0;t<B.length;t+=1)B[t].c();u=$(),l=s("button"),x=f("All"),A=$(),C&&C.c(),T=$(),J&&J.c(),this.h()},l:function(t){I('[data-svelte="svelte-1qupx5s"]',document.head).forEach(p),n=S(t),r=h(t,"DIV",{class:!0});var s=v(r);e=h(s,"DIV",{class:!0});var f=v(e);o=h(f,"H2",{class:!0});var d=v(o);c=m(d,"Poems by category"),d.forEach(p),a=S(f),i=h(f,"DIV",{class:!0});for(var g=v(i),y=0;y<B.length;y+=1)B[y].l(g);u=S(g),l=h(g,"BUTTON",{class:!0});var b=v(l);x=m(b,"All"),b.forEach(p),g.forEach(p),A=S(f),C&&C.l(f),f.forEach(p),T=S(s),J&&J.l(s),s.forEach(p),this.h()},h:function(){document.title="Poems",d(o,"class","svelte-milxre"),d(l,"class","filter-button svelte-milxre"),d(i,"class","filter-cont svelte-milxre"),d(e,"class","side-bar svelte-milxre"),d(r,"class","page-wrapper svelte-milxre")},m:function(s,f){g(s,n,f),g(s,r,f),y(r,e),y(e,o),y(o,c),y(e,a),y(e,i);for(var h=0;h<B.length;h+=1)B[h].m(i,null);y(i,u),y(i,l),y(l,x),y(e,A),C&&C.m(e,null),y(r,T),J&&J.m(r,null),k=!0,O||(U=b(l,"click",_(t[7])),O=!0)},p:function(t,n){var r=D(n,1)[0];if(11&r){var o;for(q=t[1],o=0;o<q.length;o+=1){var c=L(t,q,o);B[o]?B[o].p(c,r):(B[o]=N(c),B[o].c(),B[o].m(i,u))}for(;o<B.length;o+=1)B[o].d(1);B.length=q.length}t[0]?C?C.p(t,r):((C=V(t)).c(),C.m(e,null)):C&&(C.d(1),C=null),J&&J.p&&16&r&&j(J,H,t,t[4],r,null,null)},i:function(t){k||(P(J,t),k=!0)},o:function(t){R(J,t),k=!1},d:function(t){t&&p(n),t&&p(r),w(B,t),C&&C.d(),J&&J.d(t),O=!1,U()}}}var C=function(t,n,r,e){return new(r||(r=Promise))((function(o,c){function a(t){try{u(e.next(t))}catch(t){c(t)}}function i(t){try{u(e.throw(t))}catch(t){c(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,i)}u((e=e.apply(t,n||[])).next())}))};function H(){return C(this,void 0,void 0,t.mark((function r(){var e,o,c;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"*[_type == 'poem']{_id, slug, name, categories[]->{title}}",e="*[_type == 'category']{_id, title}",t.next=4,n.fetch("*[_type == 'poem']{_id, slug, name, categories[]->{title}}");case 4:return o=t.sent,t.next=7,n.fetch(e);case 7:return c=t.sent,t.abrupt("return",{poems:o,categoriesArr:c});case 9:case"end":return t.stop()}}),r)})))}function J(t,n,r){var e=n.$$slots,o=void 0===e?{}:e,c=n.$$scope,a=function(t,n){r(2,f=t.filter((function(t){var r,e=k(t.categories);try{for(e.s();!(r=e.n()).done;){return r.value.title==n}}catch(t){e.e(t)}finally{e.f()}})))},i=n.poems,u=void 0===i?[]:i,l=n.categoriesArr,s=void 0===l?[]:l,f=u;return t.$$set=function(t){"poems"in t&&r(0,u=t.poems),"categoriesArr"in t&&r(1,s=t.categoriesArr),"$$scope"in t&&r(4,c=t.$$scope)},[u,s,f,a,c,o,function(t){return a(u,t.title)},function(){return r(2,f=u)}]}var K=function(t){r(e,u);var n=T(e);function e(t){var r;return c(this,e),r=n.call(this),a(i(r),t,J,M,l,{poems:0,categoriesArr:1}),r}return e}();export default K;export{H as preload};
